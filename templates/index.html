{% extends 'base.html' %}
{% block title %}Bienvenido | Registro de Asistencia{% endblock %}

{% block content %}
<div class="hero-section d-flex align-items-center" style="min-height:90vh;overflow-x:hidden;">
  <div class="container-fluid px-0">
    <div class="row g-0 flex-lg-row flex-column-reverse align-items-center">


      <div class="col-lg-6 d-flex flex-column align-items-center justify-content-center px-5 py-5 py-lg-0 text-lg-start text-center">
        <div class="mb-4 mb-lg-5">
          <img src="{{ url_for('static', filename='logo.png') }}" style="height:56px;" alt="Logo" class="mb-2 rounded-3 shadow-sm">
          <span class="badge bg-primary-subtle text-primary ms-2 fs-6 py-2 px-3">I.E. Santa Beatriz de Silva</span>
        </div>
        <h1 class="display-5 fw-bold mb-3" style="line-height:1.14; color:#163463;">
          Bienvenido<br>
          <span class="text-gradient">Registro Digital de Asistencia</span>
        </h1>
        <p class="lead text-muted mb-4 px-2 px-lg-0" style="max-width: 490px;">
          Escanea el código <b class="text-primary">de Barras</b> de tu DNI <br class="d-none d-md-inline">para registrar tu ingreso diario.<br>
          <span class="small text-secondary">Digitaliza tu control de asistencia, más rápido y seguro.</span>
        </p>
        <div class="d-flex flex-wrap justify-content-lg-start justify-content-center gap-2">
          <a href="{{ url_for('teachers.registrar_docente') }}" class="btn btn-landing btn-lg d-flex align-items-center gap-2">
            <i class="bi bi-person-badge"></i> Docentes
          </a>
          <a href="{{ url_for('attendance.asistencias') }}" class="btn btn-landing-secondary btn-lg d-flex align-items-center gap-2">
            <i class="bi bi-list-check"></i> Asistencias
          </a>
          <a href="{{ url_for('attendance.asistencias_semanal') }}" class="btn btn-landing-tertiary btn-lg d-flex align-items-center gap-2">
            <i class="bi bi-calendar-week"></i> Resumen Semanal
          </a>
          <a href="{{ url_for('reports.reporte_mensual') }}" class="btn btn-landing-tertiary btn-lg d-flex align-items-center gap-2">
            <i class="bi bi-bar-chart-fill"></i> Reporte Mensual
          </a>
        </div>
      </div>


      <div class="col-lg-6 px-4 px-lg-5 pb-5 pb-lg-0 d-flex flex-column align-items-center justify-content-center position-relative">
        <div class="scan-hero-box text-center shadow-lg position-relative" style="z-index:2;">
          <div class="mb-3">
            <span class="scan-circle mb-2 d-inline-flex align-items-center justify-content-center">
              <i class="bi bi-upc-scan scan-icon"></i>
            </span>
          </div>
          <h2 class="fw-semibold mb-2" style="color:#1565c0;">
            ¡Escanea tu asistencia!
          </h2>
          <form method="POST" id="scanForm" autocomplete="off" class="mt-3">
            <div class="input-group input-group-lg mb-3">
              <span class="input-group-text bg-white border-0 scan-input-prepend" style="border-radius:50px 0 0 50px;">
                <i class="bi bi-upc"></i>
              </span>
              <input type="text" name="codigo" id="codigo"
                class="form-control border-0 ps-1 scan-input"
                placeholder="Escanea aquí el código..." required autofocus autocomplete="off"
                style="border-radius:0 50px 50px 0; font-size:1.16rem;">
            </div>
            <button type="submit" class="btn btn-scan w-100 py-2 fs-5 fw-bold">
              <i class="bi bi-check2-circle me-2"></i>Registrar ahora
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block scripts %}
<script>
  window.onload = function() {
    document.getElementById('codigo').focus();
  };
</script>
{% if mensaje %}
<script>
  Swal.fire({
    icon: "{{ mensaje.tipo }}",
    title: "{{ mensaje.texto }}",
    timer: 10000,//Depende :v
    showConfirmButton: false
  });
</script>
{% endif %}
{% endblock %}
